import{i as te,e as ve,h as ne,f as vt,N as gt,w as B,u as y,j as $,r as S,k as C,l as oe,m as G,d as A,o as w,c as I,n as J,p as je,q as Re,t as mt,s as yt,v as he,x as ae,y as Oe,z as qe,A as F,B as Z,a as se,C as x,D as U,E as O,F as fe,G as Ke,H as Ue,I as $e,J as V,K as Te,L as Ge,M as X,O as bt,P as Nt,T as kt,Q as Ct,R as ze,S as R,U as Ce,V as ye,W as Je,X as Et,Y as Fe,Z as Dt}from"./@vue-CaA77chp.js";import{i as wt,f as St,g as xt,a as Kt,p as $t}from"./lodash-es-BcjJjR9F.js";import{l as Tt,c as It}from"./@element-plus-BXVs1juE.js";import{u as Lt}from"./@vueuse-CjgnB8XA.js";const pe=e=>e===void 0,Ee=e=>typeof e=="boolean",De=e=>typeof e=="number",we=e=>wt(e),Bt=e=>te(e)?!Number.isNaN(Number(e)):!1;const Ye=(e="")=>e.split(" ").filter(t=>!!t.trim()),At=(e,t)=>{!e||!t.trim()||e.classList.add(...Ye(t))},be=(e,t)=>{!e||!t.trim()||e.classList.remove(...Ye(t))};function Pt(e,t="px"){if(!e)return"";if(De(e)||Bt(e))return`${e}${t}`;if(te(e))return e}const We="__epPropKey",Ie=e=>e,Ot=e=>ve(e)&&!!e[We],Ze=(e,t)=>{if(!ve(e)||Ot(e))return e;const{values:o,required:a,default:n,type:s,validator:d}=e,p={type:s,required:!!a,validator:o||d?f=>{let l=!1,u=[];if(o&&(u=Array.from(o),ne(e,"default")&&u.push(n),l||(l=u.includes(f))),d&&(l||(l=d(f))),!l&&u.length>0){const h=[...new Set(u)].map(N=>JSON.stringify(N)).join(", ");vt(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${h}], got value ${JSON.stringify(f)}.`)}return l}:void 0,[We]:!0};return ne(e,"default")&&(p.default=n),p},Qe=e=>St(Object.entries(e).map(([t,o])=>[t,Ze(o,t)])),zt=Ie([String,Object,Function]),Xe=(e,t)=>{if(e.install=o=>{for(const a of[e,...Object.values(t??{})])o.component(a.name,a)},t)for(const[o,a]of Object.entries(t))e[o]=a;return e},_e=e=>(e.install=gt,e),H={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},ge="update:modelValue",Ft=["","default","small","large"],Ne=({from:e,replacement:t,scope:o,version:a,ref:n,type:s="API"},d)=>{B(()=>y(d),r=>{},{immediate:!0})};var Vt={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const Mt=e=>(t,o)=>Ht(t,o,y(e)),Ht=(e,t,o)=>xt(o,e,e).replace(/\{(\w+)\}/g,(a,n)=>{var s;return`${(s=t==null?void 0:t[n])!=null?s:`{${n}}`}`}),jt=e=>{const t=C(()=>y(e).name),o=oe(e)?e:S(e);return{lang:t,locale:o,t:Mt(e)}},Rt=Symbol("localeContextKey"),qt=e=>{const t=e||$(Rt,S());return jt(C(()=>t.value||Vt))},ke="el",Ut="is-",j=(e,t,o,a,n)=>{let s=`${e}-${t}`;return o&&(s+=`-${o}`),a&&(s+=`__${a}`),n&&(s+=`--${n}`),s},Gt=Symbol("namespaceContextKey"),et=e=>{const t=e||(G()?$(Gt,S(ke)):S(ke));return C(()=>y(t)||ke)},z=(e,t)=>{const o=et(t);return{namespace:o,b:(i="")=>j(o.value,e,i,"",""),e:i=>i?j(o.value,e,"",i,""):"",m:i=>i?j(o.value,e,"","",i):"",be:(i,m)=>i&&m?j(o.value,e,i,m,""):"",em:(i,m)=>i&&m?j(o.value,e,"",i,m):"",bm:(i,m)=>i&&m?j(o.value,e,i,"",m):"",bem:(i,m,v)=>i&&m&&v?j(o.value,e,i,m,v):"",is:(i,...m)=>{const v=m.length>=1?m[0]:!0;return i&&v?`${Ut}${i}`:""},cssVar:i=>{const m={};for(const v in i)i[v]&&(m[`--${o.value}-${v}`]=i[v]);return m},cssVarName:i=>`--${o.value}-${i}`,cssVarBlock:i=>{const m={};for(const v in i)i[v]&&(m[`--${o.value}-${e}-${v}`]=i[v]);return m},cssVarBlockName:i=>`--${o.value}-${e}-${i}`}},tt=e=>{const t=G();return C(()=>{var o,a;return(a=(o=t==null?void 0:t.proxy)==null?void 0:o.$props)==null?void 0:a[e]})},Ve={prefix:Math.floor(Math.random()*1e4),current:0},Jt=Symbol("elIdInjection"),Yt=()=>G()?$(Jt,Ve):Ve,Wt=e=>{const t=Yt(),o=et();return C(()=>y(e)||`${o.value}-id-${t.prefix}-${t.current++}`)},nt=Ze({type:String,values:Ft,required:!1}),Zt=Symbol("size"),Qt=()=>{const e=$(Zt,{});return C(()=>y(e.size)||"")};var M=(e,t)=>{const o=e.__vccOpts||e;for(const[a,n]of t)o[a]=n;return o};const Xt=Qe({size:{type:Ie([Number,String])},color:{type:String}}),_t=A({name:"ElIcon",inheritAttrs:!1}),en=A({..._t,props:Xt,setup(e){const t=e,o=z("icon"),a=C(()=>{const{size:n,color:s}=t;return!n&&!s?{}:{fontSize:pe(n)?void 0:Pt(n),"--color":s}});return(n,s)=>(w(),I("i",je({class:y(o).b(),style:y(a)},n.$attrs),[J(n.$slots,"default")],16))}});var tn=M(en,[["__file","icon.vue"]]);const nn=Xe(tn),Le=Symbol("formContextKey"),Be=Symbol("formItemContextKey"),Me=(e,t={})=>{const o=S(void 0),a=t.prop?o:tt("size"),n=t.global?o:Qt(),s=t.form?{size:void 0}:$(Le,void 0),d=t.formItem?{size:void 0}:$(Be,void 0);return C(()=>a.value||y(e)||(d==null?void 0:d.size)||(s==null?void 0:s.size)||n.value||"")},on=e=>{const t=tt("disabled"),o=$(Le,void 0);return C(()=>t.value||y(e)||(o==null?void 0:o.disabled)||!1)},Ae=()=>{const e=$(Le,void 0),t=$(Be,void 0);return{form:e,formItem:t}},ot=(e,{formItemContext:t,disableIdGeneration:o,disableIdManagement:a})=>{o||(o=S(!1)),a||(a=S(!1));const n=S();let s;const d=C(()=>{var r;return!!(!e.label&&t&&t.inputIds&&((r=t.inputIds)==null?void 0:r.length)<=1)});return Re(()=>{s=B([mt(e,"id"),o],([r,p])=>{const f=r??(p?void 0:Wt().value);f!==n.value&&(t!=null&&t.removeInputId&&(n.value&&t.removeInputId(n.value),!(a!=null&&a.value)&&!p&&f&&t.addInputId(f)),n.value=f)},{immediate:!0})}),yt(()=>{s&&s(),t!=null&&t.removeInputId&&n.value&&t.removeInputId(n.value)}),{isLabeledByFormItem:d,inputId:n}},at={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:nt,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},st={[ge]:e=>te(e)||De(e)||Ee(e),change:e=>te(e)||De(e)||Ee(e)},_=Symbol("checkboxGroupContextKey"),an=({model:e,isChecked:t})=>{const o=$(_,void 0),a=C(()=>{var s,d;const r=(s=o==null?void 0:o.max)==null?void 0:s.value,p=(d=o==null?void 0:o.min)==null?void 0:d.value;return!pe(r)&&e.value.length>=r&&!t.value||!pe(p)&&e.value.length<=p&&t.value});return{isDisabled:on(C(()=>(o==null?void 0:o.disabled.value)||a.value)),isLimitDisabled:a}},sn=(e,{model:t,isLimitExceeded:o,hasOwnLabel:a,isDisabled:n,isLabeledByFormItem:s})=>{const d=$(_,void 0),{formItem:r}=Ae(),{emit:p}=G();function f(c){var i,m,v,b;return[!0,e.trueValue,e.trueLabel].includes(c)?(m=(i=e.trueValue)!=null?i:e.trueLabel)!=null?m:!0:(b=(v=e.falseValue)!=null?v:e.falseLabel)!=null?b:!1}function l(c,i){p("change",f(c),i)}function u(c){if(o.value)return;const i=c.target;p("change",f(i.checked),c)}async function h(c){o.value||!a.value&&!n.value&&s.value&&(c.composedPath().some(v=>v.tagName==="LABEL")||(t.value=f([!1,e.falseValue,e.falseLabel].includes(t.value)),await he(),l(t.value,c)))}const N=C(()=>(d==null?void 0:d.validateEvent)||e.validateEvent);return B(()=>e.modelValue,()=>{N.value&&(r==null||r.validate("change").catch(c=>void 0))}),{handleChange:u,onClickRoot:h}},rn=e=>{const t=S(!1),{emit:o}=G(),a=$(_,void 0),n=C(()=>pe(a)===!1),s=S(!1),d=C({get(){var r,p;return n.value?(r=a==null?void 0:a.modelValue)==null?void 0:r.value:(p=e.modelValue)!=null?p:t.value},set(r){var p,f;n.value&&ae(r)?(s.value=((p=a==null?void 0:a.max)==null?void 0:p.value)!==void 0&&r.length>(a==null?void 0:a.max.value)&&r.length>d.value.length,s.value===!1&&((f=a==null?void 0:a.changeEvent)==null||f.call(a,r))):(o(ge,r),t.value=r)}});return{model:d,isGroup:n,isLimitExceeded:s}},ln=(e,t,{model:o})=>{const a=$(_,void 0),n=S(!1),s=C(()=>we(e.value)?e.label:e.value),d=C(()=>{const l=o.value;return Ee(l)?l:ae(l)?ve(s.value)?l.map(Oe).some(u=>Kt(u,s.value)):l.map(Oe).includes(s.value):l!=null?l===e.trueValue||l===e.trueLabel:!!l}),r=Me(C(()=>{var l;return(l=a==null?void 0:a.size)==null?void 0:l.value}),{prop:!0}),p=Me(C(()=>{var l;return(l=a==null?void 0:a.size)==null?void 0:l.value})),f=C(()=>!!t.default||!we(s.value));return{checkboxButtonSize:r,isChecked:d,isFocused:n,checkboxSize:p,hasOwnLabel:f,actualValue:s}},rt=(e,t)=>{const{formItem:o}=Ae(),{model:a,isGroup:n,isLimitExceeded:s}=rn(e),{isFocused:d,isChecked:r,checkboxButtonSize:p,checkboxSize:f,hasOwnLabel:l,actualValue:u}=ln(e,t,{model:a}),{isDisabled:h}=an({model:a,isChecked:r}),{inputId:N,isLabeledByFormItem:c}=ot(e,{formItemContext:o,disableIdGeneration:l,disableIdManagement:n}),{handleChange:i,onClickRoot:m}=sn(e,{model:a,isLimitExceeded:s,hasOwnLabel:l,isDisabled:h,isLabeledByFormItem:c});return(()=>{function b(){var L,P;ae(a.value)&&!a.value.includes(u.value)?a.value.push(u.value):a.value=(P=(L=e.trueValue)!=null?L:e.trueLabel)!=null?P:!0}e.checked&&b()})(),Ne({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},C(()=>n.value&&we(e.value))),Ne({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},C(()=>!!e.trueLabel)),Ne({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},C(()=>!!e.falseLabel)),{inputId:N,isLabeledByFormItem:c,isChecked:r,isDisabled:h,isFocused:d,checkboxButtonSize:p,checkboxSize:f,hasOwnLabel:l,model:a,actualValue:u,handleChange:i,onClickRoot:m}},dn=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],un=["id","indeterminate","disabled","value","name","tabindex"],cn=A({name:"ElCheckbox"}),hn=A({...cn,props:at,emits:st,setup(e){const t=e,o=qe(),{inputId:a,isLabeledByFormItem:n,isChecked:s,isDisabled:d,isFocused:r,checkboxSize:p,hasOwnLabel:f,model:l,actualValue:u,handleChange:h,onClickRoot:N}=rt(t,o),c=z("checkbox"),i=C(()=>[c.b(),c.m(p.value),c.is("disabled",d.value),c.is("bordered",t.border),c.is("checked",s.value)]),m=C(()=>[c.e("input"),c.is("disabled",d.value),c.is("checked",s.value),c.is("indeterminate",t.indeterminate),c.is("focus",r.value)]);return(v,b)=>(w(),F(Te(!y(f)&&y(n)?"span":"label"),{class:x(y(i)),"aria-controls":v.indeterminate?v.controls:null,onClick:y(N)},{default:Z(()=>{var L,P;return[se("span",{class:x(y(m))},[v.trueValue||v.falseValue||v.trueLabel||v.falseLabel?U((w(),I("input",{key:0,id:y(a),"onUpdate:modelValue":b[0]||(b[0]=D=>oe(l)?l.value=D:null),class:x(y(c).e("original")),type:"checkbox",indeterminate:v.indeterminate,name:v.name,tabindex:v.tabindex,disabled:y(d),"true-value":(L=v.trueValue)!=null?L:v.trueLabel,"false-value":(P=v.falseValue)!=null?P:v.falseLabel,onChange:b[1]||(b[1]=(...D)=>y(h)&&y(h)(...D)),onFocus:b[2]||(b[2]=D=>r.value=!0),onBlur:b[3]||(b[3]=D=>r.value=!1),onClick:b[4]||(b[4]=O(()=>{},["stop"]))},null,42,dn)),[[fe,y(l)]]):U((w(),I("input",{key:1,id:y(a),"onUpdate:modelValue":b[5]||(b[5]=D=>oe(l)?l.value=D:null),class:x(y(c).e("original")),type:"checkbox",indeterminate:v.indeterminate,disabled:y(d),value:y(u),name:v.name,tabindex:v.tabindex,onChange:b[6]||(b[6]=(...D)=>y(h)&&y(h)(...D)),onFocus:b[7]||(b[7]=D=>r.value=!0),onBlur:b[8]||(b[8]=D=>r.value=!1),onClick:b[9]||(b[9]=O(()=>{},["stop"]))},null,42,un)),[[fe,y(l)]]),se("span",{class:x(y(c).e("inner"))},null,2)],2),y(f)?(w(),I("span",{key:0,class:x(y(c).e("label"))},[J(v.$slots,"default"),v.$slots.default?V("v-if",!0):(w(),I(Ke,{key:0},[Ue($e(v.label),1)],64))],2)):V("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var fn=M(hn,[["__file","checkbox.vue"]]);const pn=["name","tabindex","disabled","true-value","false-value"],vn=["name","tabindex","disabled","value"],gn=A({name:"ElCheckboxButton"}),mn=A({...gn,props:at,emits:st,setup(e){const t=e,o=qe(),{isFocused:a,isChecked:n,isDisabled:s,checkboxButtonSize:d,model:r,actualValue:p,handleChange:f}=rt(t,o),l=$(_,void 0),u=z("checkbox"),h=C(()=>{var c,i,m,v;const b=(i=(c=l==null?void 0:l.fill)==null?void 0:c.value)!=null?i:"";return{backgroundColor:b,borderColor:b,color:(v=(m=l==null?void 0:l.textColor)==null?void 0:m.value)!=null?v:"",boxShadow:b?`-1px 0 0 0 ${b}`:void 0}}),N=C(()=>[u.b("button"),u.bm("button",d.value),u.is("disabled",s.value),u.is("checked",n.value),u.is("focus",a.value)]);return(c,i)=>{var m,v;return w(),I("label",{class:x(y(N))},[c.trueValue||c.falseValue||c.trueLabel||c.falseLabel?U((w(),I("input",{key:0,"onUpdate:modelValue":i[0]||(i[0]=b=>oe(r)?r.value=b:null),class:x(y(u).be("button","original")),type:"checkbox",name:c.name,tabindex:c.tabindex,disabled:y(s),"true-value":(m=c.trueValue)!=null?m:c.trueLabel,"false-value":(v=c.falseValue)!=null?v:c.falseLabel,onChange:i[1]||(i[1]=(...b)=>y(f)&&y(f)(...b)),onFocus:i[2]||(i[2]=b=>a.value=!0),onBlur:i[3]||(i[3]=b=>a.value=!1),onClick:i[4]||(i[4]=O(()=>{},["stop"]))},null,42,pn)),[[fe,y(r)]]):U((w(),I("input",{key:1,"onUpdate:modelValue":i[5]||(i[5]=b=>oe(r)?r.value=b:null),class:x(y(u).be("button","original")),type:"checkbox",name:c.name,tabindex:c.tabindex,disabled:y(s),value:y(p),onChange:i[6]||(i[6]=(...b)=>y(f)&&y(f)(...b)),onFocus:i[7]||(i[7]=b=>a.value=!0),onBlur:i[8]||(i[8]=b=>a.value=!1),onClick:i[9]||(i[9]=O(()=>{},["stop"]))},null,42,vn)),[[fe,y(r)]]),c.$slots.default||c.label?(w(),I("span",{key:2,class:x(y(u).be("button","inner")),style:Ge(y(n)?y(h):void 0)},[J(c.$slots,"default",{},()=>[Ue($e(c.label),1)])],6)):V("v-if",!0)],2)}}});var lt=M(mn,[["__file","checkbox-button.vue"]]);const yn=Qe({modelValue:{type:Ie(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:nt,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),bn={[ge]:e=>ae(e),change:e=>ae(e)},Nn=A({name:"ElCheckboxGroup"}),kn=A({...Nn,props:yn,emits:bn,setup(e,{emit:t}){const o=e,a=z("checkbox"),{formItem:n}=Ae(),{inputId:s,isLabeledByFormItem:d}=ot(o,{formItemContext:n}),r=async f=>{t(ge,f),await he(),t("change",f)},p=C({get(){return o.modelValue},set(f){r(f)}});return X(_,{...$t(bt(o),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:p,changeEvent:r}),B(()=>o.modelValue,()=>{o.validateEvent&&(n==null||n.validate("change").catch(f=>void 0))}),(f,l)=>{var u;return w(),F(Te(f.tag),{id:y(s),class:x(y(a).b("group")),role:"group","aria-label":y(d)?void 0:f.label||"checkbox-group","aria-labelledby":y(d)?(u=y(n))==null?void 0:u.labelId:void 0},{default:Z(()=>[J(f.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var dt=M(kn,[["__file","checkbox-group.vue"]]);const Cn=Xe(fn,{CheckboxButton:lt,CheckboxGroup:dt});_e(lt);_e(dt);const En=A({name:"ElCollapseTransition"}),Dn=A({...En,setup(e){const t=z("collapse-transition"),o=n=>{n.style.maxHeight="",n.style.overflow=n.dataset.oldOverflow,n.style.paddingTop=n.dataset.oldPaddingTop,n.style.paddingBottom=n.dataset.oldPaddingBottom},a={beforeEnter(n){n.dataset||(n.dataset={}),n.dataset.oldPaddingTop=n.style.paddingTop,n.dataset.oldPaddingBottom=n.style.paddingBottom,n.style.height&&(n.dataset.elExistsHeight=n.style.height),n.style.maxHeight=0,n.style.paddingTop=0,n.style.paddingBottom=0},enter(n){requestAnimationFrame(()=>{n.dataset.oldOverflow=n.style.overflow,n.dataset.elExistsHeight?n.style.maxHeight=n.dataset.elExistsHeight:n.scrollHeight!==0?n.style.maxHeight=`${n.scrollHeight}px`:n.style.maxHeight=0,n.style.paddingTop=n.dataset.oldPaddingTop,n.style.paddingBottom=n.dataset.oldPaddingBottom,n.style.overflow="hidden"})},afterEnter(n){n.style.maxHeight="",n.style.overflow=n.dataset.oldOverflow},enterCancelled(n){o(n)},beforeLeave(n){n.dataset||(n.dataset={}),n.dataset.oldPaddingTop=n.style.paddingTop,n.dataset.oldPaddingBottom=n.style.paddingBottom,n.dataset.oldOverflow=n.style.overflow,n.style.maxHeight=`${n.scrollHeight}px`,n.style.overflow="hidden"},leave(n){n.scrollHeight!==0&&(n.style.maxHeight=0,n.style.paddingTop=0,n.style.paddingBottom=0)},afterLeave(n){o(n)},leaveCancelled(n){o(n)}};return(n,s)=>(w(),F(kt,je({name:y(t).b()},Nt(a)),{default:Z(()=>[J(n.$slots,"default")]),_:3},16,["name"]))}});var ie=M(Dn,[["__file","collapse-transition.vue"]]);ie.install=e=>{e.component(ie.name,ie)};const wn=ie,Q="$treeNodeId",He=function(e,t){!t||t[Q]||Object.defineProperty(t,Q,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},Pe=function(e,t){return e?t[e]:t[Q]},Se=(e,t,o)=>{const a=e.value.currentNode;o();const n=e.value.currentNode;a!==n&&t("current-change",n?n.data:null,n)},xe=e=>{let t=!0,o=!0,a=!0;for(let n=0,s=e.length;n<s;n++){const d=e[n];(d.checked!==!0||d.indeterminate)&&(t=!1,d.disabled||(a=!1)),(d.checked!==!1||d.indeterminate)&&(o=!1)}return{all:t,none:o,allWithoutDisable:a,half:!t&&!o}},ue=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:o,half:a}=xe(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):a?(e.checked=!1,e.indeterminate=!0):o&&(e.checked=!1,e.indeterminate=!1);const n=e.parent;!n||n.level===0||e.store.checkStrictly||ue(n)},de=function(e,t){const o=e.store.props,a=e.data||{},n=o[t];if(typeof n=="function")return n(a,e);if(typeof n=="string")return a[n];if(typeof n>"u"){const s=a[t];return s===void 0?"":s}};let Sn=0;class q{constructor(t){this.id=Sn++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const o in t)ne(t,o)&&(this[o]=t[o]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const o=t.props;if(o&&typeof o.isLeaf<"u"){const s=de(this,"isLeaf");typeof s=="boolean"&&(this.isLeafByUser=s)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&this.expand(),Array.isArray(this.data)||He(this,this.data),!this.data)return;const a=t.defaultExpandedKeys,n=t.key;n&&a&&a.includes(this.key)&&this.expand(null,t.autoExpandParent),n&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Array.isArray(t)||He(this,t),this.data=t,this.childNodes=[];let o;this.level===0&&Array.isArray(this.data)?o=this.data:o=de(this,"children")||[];for(let a=0,n=o.length;a<n;a++)this.insertChild({data:o[a]})}get label(){return de(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return de(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const o=t.childNodes.indexOf(this);if(o>-1)return t.childNodes[o+1]}return null}get previousSibling(){const t=this.parent;if(t){const o=t.childNodes.indexOf(this);if(o>-1)return o>0?t.childNodes[o-1]:null}return null}contains(t,o=!0){return(this.childNodes||[]).some(a=>a===t||o&&a.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,o,a){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof q)){if(!a){const n=this.getChildren(!0);n.includes(t.data)||(typeof o>"u"||o<0?n.push(t.data):n.splice(o,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=Ct(new q(t)),t instanceof q&&t.initialize()}t.level=this.level+1,typeof o>"u"||o<0?this.childNodes.push(t):this.childNodes.splice(o,0,t),this.updateLeafState()}insertBefore(t,o){let a;o&&(a=this.childNodes.indexOf(o)),this.insertChild(t,a)}insertAfter(t,o){let a;o&&(a=this.childNodes.indexOf(o),a!==-1&&(a+=1)),this.insertChild(t,a)}removeChild(t){const o=this.getChildren()||[],a=o.indexOf(t.data);a>-1&&o.splice(a,1);const n=this.childNodes.indexOf(t);n>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(n,1)),this.updateLeafState()}removeChildByData(t){let o=null;for(let a=0;a<this.childNodes.length;a++)if(this.childNodes[a].data===t){o=this.childNodes[a];break}o&&this.removeChild(o)}expand(t,o){const a=()=>{if(o){let n=this.parent;for(;n.level>0;)n.expanded=!0,n=n.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(n=>{n.canFocus=!0})};this.shouldLoadData()?this.loadData(n=>{Array.isArray(n)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||ue(this),a())}):a()}doCreateChildren(t,o={}){t.forEach(a=>{this.insertChild(Object.assign({data:a},o),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,o,a,n){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:d,allWithoutDisable:r}=xe(this.childNodes);!this.isLeaf&&!d&&r&&(this.checked=!1,t=!1);const p=()=>{if(o){const f=this.childNodes;for(let h=0,N=f.length;h<N;h++){const c=f[h];n=n||t!==!1;const i=c.disabled?c.checked:n;c.setChecked(i,o,!0,n)}const{half:l,all:u}=xe(f);u||(this.checked=u,this.indeterminate=l)}};if(this.shouldLoadData()){this.loadData(()=>{p(),ue(this)},{checked:t!==!1});return}else p()}const s=this.parent;!s||s.level===0||a||ue(s)}getChildren(t=!1){if(this.level===0)return this.data;const o=this.data;if(!o)return null;const a=this.store.props;let n="children";return a&&(n=a.children||"children"),o[n]===void 0&&(o[n]=null),t&&!o[n]&&(o[n]=[]),o[n]}updateChildren(){const t=this.getChildren()||[],o=this.childNodes.map(s=>s.data),a={},n=[];t.forEach((s,d)=>{const r=s[Q];!!r&&o.findIndex(f=>f[Q]===r)>=0?a[r]={index:d,data:s}:n.push({index:d,data:s})}),this.store.lazy||o.forEach(s=>{a[s[Q]]||this.removeChildByData(s)}),n.forEach(({index:s,data:d})=>{this.insertChild({data:d},s)}),this.updateLeafState()}loadData(t,o={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(o).length)){this.loading=!0;const a=n=>{this.childNodes=[],this.doCreateChildren(n,o),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,n)};this.store.load(this,a)}else t&&t.call(this)}}class xn{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const o in t)ne(t,o)&&(this[o]=t[o]);this.nodesMap={}}initialize(){if(this.root=new q({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,o=>{this.root.doCreateChildren(o),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const o=this.filterNodeMethod,a=this.lazy,n=function(s){const d=s.root?s.root.childNodes:s.childNodes;if(d.forEach(r=>{r.visible=o.call(r,t,r.data,r),n(r)}),!s.visible&&d.length){let r=!0;r=!d.some(p=>p.visible),s.root?s.root.visible=r===!1:s.visible=r===!1}t&&s.visible&&!s.isLeaf&&(!a||s.loaded)&&s.expand()};n(this)}setData(t){t!==this.root.data?(this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(t){if(t instanceof q)return t;const o=ve(t)?Pe(this.key,t):t;return this.nodesMap[o]||null}insertBefore(t,o){const a=this.getNode(o);a.parent.insertBefore({data:t},a)}insertAfter(t,o){const a=this.getNode(o);a.parent.insertAfter({data:t},a)}remove(t){const o=this.getNode(t);o&&o.parent&&(o===this.currentNode&&(this.currentNode=null),o.parent.removeChild(o))}append(t,o){const a=o?this.getNode(o):this.root;a&&a.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],o=this.nodesMap;t.forEach(a=>{const n=o[a];n&&n.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const o=this.key;!t||!t.data||(o?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(a=>{this.deregisterNode(a)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,o=!1){const a=[],n=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(r=>{(r.checked||o&&r.indeterminate)&&(!t||t&&r.isLeaf)&&a.push(r.data),n(r)})};return n(this),a}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(o=>(o||{})[this.key])}getHalfCheckedNodes(){const t=[],o=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(s=>{s.indeterminate&&t.push(s.data),o(s)})};return o(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],o=this.nodesMap;for(const a in o)ne(o,a)&&t.push(o[a]);return t}updateChildren(t,o){const a=this.nodesMap[t];if(!a)return;const n=a.childNodes;for(let s=n.length-1;s>=0;s--){const d=n[s];this.remove(d.data)}for(let s=0,d=o.length;s<d;s++){const r=o[s];this.append(r,a.data)}}_setCheckedKeys(t,o=!1,a){const n=this._getAllNodes().sort((p,f)=>p.level-f.level),s=Object.create(null),d=Object.keys(a);n.forEach(p=>p.setChecked(!1,!1));const r=p=>{p.childNodes.forEach(f=>{var l;s[f.data[t]]=!0,(l=f.childNodes)!=null&&l.length&&r(f)})};for(let p=0,f=n.length;p<f;p++){const l=n[p],u=l.data[t].toString();if(!d.includes(u)){l.checked&&!s[u]&&l.setChecked(!1,!1);continue}if(l.childNodes.length&&r(l),l.isLeaf||this.checkStrictly){l.setChecked(!0,!1);continue}if(l.setChecked(!0,!0),o){l.setChecked(!1,!1);const N=function(c){c.childNodes.forEach(m=>{m.isLeaf||m.setChecked(!1,!1),N(m)})};N(l)}}}setCheckedNodes(t,o=!1){const a=this.key,n={};t.forEach(s=>{n[(s||{})[a]]=!0}),this._setCheckedKeys(a,o,n)}setCheckedKeys(t,o=!1){this.defaultCheckedKeys=t;const a=this.key,n={};t.forEach(s=>{n[s]=!0}),this._setCheckedKeys(a,o,n)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(o=>{const a=this.getNode(o);a&&a.expand(null,this.autoExpandParent)})}setChecked(t,o,a){const n=this.getNode(t);n&&n.setChecked(!!o,a)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const o=this.currentNode;o&&(o.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,o=!0){const a=t[this.key],n=this.nodesMap[a];this.setCurrentNode(n),o&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,o=!0){if(t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const a=this.getNode(t);a&&(this.setCurrentNode(a),o&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Kn=A({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=z("tree"),o=$("NodeInstance"),a=$("RootTree");return()=>{const n=e.node,{data:s,store:d}=n;return e.renderContent?e.renderContent(ze,{_self:o,node:n,data:s,store:d}):J(a.ctx.slots,"default",{node:n,data:s},()=>[ze("span",{class:t.be("node","label")},[n.label])])}}});var $n=M(Kn,[["__file","tree-node-content.vue"]]);function it(e){const t=$("TreeNodeMap",null),o={treeNodeExpand:a=>{e.node!==a&&e.node.collapse()},children:[]};return t&&t.children.push(o),X("TreeNodeMap",o),{broadcastExpanded:a=>{if(e.accordion)for(const n of o.children)n.treeNodeExpand(a)}}}const ut=Symbol("dragEvents");function Tn({props:e,ctx:t,el$:o,dropIndicator$:a,store:n}){const s=z("tree"),d=S({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return X(ut,{treeNodeDragStart:({event:l,treeNode:u})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(u.node))return l.preventDefault(),!1;l.dataTransfer.effectAllowed="move";try{l.dataTransfer.setData("text/plain","")}catch{}d.value.draggingNode=u,t.emit("node-drag-start",u.node,l)},treeNodeDragOver:({event:l,treeNode:u})=>{const h=u,N=d.value.dropNode;N&&N.node.id!==h.node.id&&be(N.$el,s.is("drop-inner"));const c=d.value.draggingNode;if(!c||!h)return;let i=!0,m=!0,v=!0,b=!0;typeof e.allowDrop=="function"&&(i=e.allowDrop(c.node,h.node,"prev"),b=m=e.allowDrop(c.node,h.node,"inner"),v=e.allowDrop(c.node,h.node,"next")),l.dataTransfer.dropEffect=m||i||v?"move":"none",(i||m||v)&&(N==null?void 0:N.node.id)!==h.node.id&&(N&&t.emit("node-drag-leave",c.node,N.node,l),t.emit("node-drag-enter",c.node,h.node,l)),i||m||v?d.value.dropNode=h:d.value.dropNode=null,h.node.nextSibling===c.node&&(v=!1),h.node.previousSibling===c.node&&(i=!1),h.node.contains(c.node,!1)&&(m=!1),(c.node===h.node||c.node.contains(h.node))&&(i=!1,m=!1,v=!1);const L=h.$el.querySelector(`.${s.be("node","content")}`).getBoundingClientRect(),P=o.value.getBoundingClientRect();let D;const re=i?m?.25:v?.45:1:-1,le=v?m?.75:i?.55:0:1;let Y=-9999;const k=l.clientY-L.top;k<L.height*re?D="before":k>L.height*le?D="after":m?D="inner":D="none";const K=h.$el.querySelector(`.${s.be("node","expand-icon")}`).getBoundingClientRect(),T=a.value;D==="before"?Y=K.top-P.top:D==="after"&&(Y=K.bottom-P.top),T.style.top=`${Y}px`,T.style.left=`${K.right-P.left}px`,D==="inner"?At(h.$el,s.is("drop-inner")):be(h.$el,s.is("drop-inner")),d.value.showDropIndicator=D==="before"||D==="after",d.value.allowDrop=d.value.showDropIndicator||b,d.value.dropType=D,t.emit("node-drag-over",c.node,h.node,l)},treeNodeDragEnd:l=>{const{draggingNode:u,dropType:h,dropNode:N}=d.value;if(l.preventDefault(),l.dataTransfer.dropEffect="move",u&&N){const c={data:u.node.data};h!=="none"&&u.node.remove(),h==="before"?N.node.parent.insertBefore(c,N.node):h==="after"?N.node.parent.insertAfter(c,N.node):h==="inner"&&N.node.insertChild(c),h!=="none"&&n.value.registerNode(c),be(N.$el,s.is("drop-inner")),t.emit("node-drag-end",u.node,N.node,h,l),h!=="none"&&t.emit("node-drop",u.node,N.node,h,l)}u&&!N&&t.emit("node-drag-end",u.node,null,h,l),d.value.showDropIndicator=!1,d.value.draggingNode=null,d.value.dropNode=null,d.value.allowDrop=!0}}),{dragState:d}}const In=A({name:"ElTreeNode",components:{ElCollapseTransition:wn,ElCheckbox:Cn,NodeContent:$n,ElIcon:nn,Loading:Tt},props:{node:{type:q,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const o=z("tree"),{broadcastExpanded:a}=it(e),n=$("RootTree"),s=S(!1),d=S(!1),r=S(null),p=S(null),f=S(null),l=$(ut),u=G();X("NodeInstance",u),e.node.expanded&&(s.value=!0,d.value=!0);const h=n.props.props.children||"children";B(()=>{const k=e.node.data[h];return k&&[...k]},()=>{e.node.updateChildren()}),B(()=>e.node.indeterminate,k=>{i(e.node.checked,k)}),B(()=>e.node.checked,k=>{i(k,e.node.indeterminate)}),B(()=>e.node.expanded,k=>{he(()=>s.value=k),k&&(d.value=!0)});const N=k=>Pe(n.props.nodeKey,k.data),c=k=>{const K=e.props.class;if(!K)return{};let T;if(Et(K)){const{data:me}=k;T=K(me,k)}else T=K;return te(T)?{[T]:!0}:T},i=(k,K)=>{(r.value!==k||p.value!==K)&&n.ctx.emit("check-change",e.node.data,k,K),r.value=k,p.value=K},m=k=>{Se(n.store,n.ctx.emit,()=>n.store.value.setCurrentNode(e.node)),n.currentNode.value=e.node,n.props.expandOnClickNode&&b(),n.props.checkOnClickNode&&!e.node.disabled&&L(null,{target:{checked:!e.node.checked}}),n.ctx.emit("node-click",e.node.data,e.node,u,k)},v=k=>{n.instance.vnode.props.onNodeContextmenu&&(k.stopPropagation(),k.preventDefault()),n.ctx.emit("node-contextmenu",k,e.node.data,e.node,u)},b=()=>{e.node.isLeaf||(s.value?(n.ctx.emit("node-collapse",e.node.data,e.node,u),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,u)))},L=(k,K)=>{e.node.setChecked(K.target.checked,!n.props.checkStrictly),he(()=>{const T=n.store.value;n.ctx.emit("check",e.node.data,{checkedNodes:T.getCheckedNodes(),checkedKeys:T.getCheckedKeys(),halfCheckedNodes:T.getHalfCheckedNodes(),halfCheckedKeys:T.getHalfCheckedKeys()})})};return{ns:o,node$:f,tree:n,expanded:s,childNodeRendered:d,oldChecked:r,oldIndeterminate:p,getNodeKey:N,getNodeClass:c,handleSelectChange:i,handleClick:m,handleContextMenu:v,handleExpandIconClick:b,handleCheckChange:L,handleChildNodeExpand:(k,K,T)=>{a(K),n.ctx.emit("node-expand",k,K,T)},handleDragStart:k=>{n.props.draggable&&l.treeNodeDragStart({event:k,treeNode:e})},handleDragOver:k=>{k.preventDefault(),n.props.draggable&&l.treeNodeDragOver({event:k,treeNode:{$el:f.value,node:e.node}})},handleDrop:k=>{k.preventDefault()},handleDragEnd:k=>{n.props.draggable&&l.treeNodeDragEnd(k)},CaretRight:It}}}),Ln=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],Bn=["aria-expanded"];function An(e,t,o,a,n,s){const d=R("el-icon"),r=R("el-checkbox"),p=R("loading"),f=R("node-content"),l=R("el-tree-node"),u=R("el-collapse-transition");return U((w(),I("div",{ref:"node$",class:x([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=O((...h)=>e.handleClick&&e.handleClick(...h),["stop"])),onContextmenu:t[2]||(t[2]=(...h)=>e.handleContextMenu&&e.handleContextMenu(...h)),onDragstart:t[3]||(t[3]=O((...h)=>e.handleDragStart&&e.handleDragStart(...h),["stop"])),onDragover:t[4]||(t[4]=O((...h)=>e.handleDragOver&&e.handleDragOver(...h),["stop"])),onDragend:t[5]||(t[5]=O((...h)=>e.handleDragEnd&&e.handleDragEnd(...h),["stop"])),onDrop:t[6]||(t[6]=O((...h)=>e.handleDrop&&e.handleDrop(...h),["stop"]))},[se("div",{class:x(e.ns.be("node","content")),style:Ge({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(w(),F(d,{key:0,class:x([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:O(e.handleExpandIconClick,["stop"])},{default:Z(()=>[(w(),F(Te(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):V("v-if",!0),e.showCheckbox?(w(),F(r,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=O(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):V("v-if",!0),e.node.loading?(w(),F(d,{key:2,class:x([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:Z(()=>[ye(p)]),_:1},8,["class"])):V("v-if",!0),ye(f,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),ye(u,null,{default:Z(()=>[!e.renderAfterExpand||e.childNodeRendered?U((w(),I("div",{key:0,class:x(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(w(!0),I(Ke,null,Je(e.node.childNodes,h=>(w(),F(l,{key:e.getNodeKey(h),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:h,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,Bn)),[[Ce,e.expanded]]):V("v-if",!0)]),_:1})],42,Ln)),[[Ce,e.node.visible]])}var Pn=M(In,[["render",An],["__file","tree-node.vue"]]);function On({el$:e},t){const o=z("tree"),a=Fe([]),n=Fe([]);Re(()=>{d()}),Dt(()=>{a.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),n.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),B(n,r=>{r.forEach(p=>{p.setAttribute("tabindex","-1")})}),Lt(e,"keydown",r=>{const p=r.target;if(!p.className.includes(o.b("node")))return;const f=r.code;a.value=Array.from(e.value.querySelectorAll(`.${o.is("focusable")}[role=treeitem]`));const l=a.value.indexOf(p);let u;if([H.up,H.down].includes(f)){if(r.preventDefault(),f===H.up){u=l===-1?0:l!==0?l-1:a.value.length-1;const N=u;for(;!t.value.getNode(a.value[u].dataset.key).canFocus;){if(u--,u===N){u=-1;break}u<0&&(u=a.value.length-1)}}else{u=l===-1?0:l<a.value.length-1?l+1:0;const N=u;for(;!t.value.getNode(a.value[u].dataset.key).canFocus;){if(u++,u===N){u=-1;break}u>=a.value.length&&(u=0)}}u!==-1&&a.value[u].focus()}[H.left,H.right].includes(f)&&(r.preventDefault(),p.click());const h=p.querySelector('[type="checkbox"]');[H.enter,H.space].includes(f)&&h&&(r.preventDefault(),h.click())});const d=()=>{var r;a.value=Array.from(e.value.querySelectorAll(`.${o.is("focusable")}[role=treeitem]`)),n.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const p=e.value.querySelectorAll(`.${o.is("checked")}[role=treeitem]`);if(p.length){p[0].setAttribute("tabindex","0");return}(r=a.value[0])==null||r.setAttribute("tabindex","0")}}const zn=A({name:"ElTree",components:{ElTreeNode:Pn},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:zt}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:o}=qt(),a=z("tree"),n=S(new xn({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));n.value.initialize();const s=S(n.value.root),d=S(null),r=S(null),p=S(null),{broadcastExpanded:f}=it(e),{dragState:l}=Tn({props:e,ctx:t,el$:r,dropIndicator$:p,store:n});On({el$:r},n);const u=C(()=>{const{childNodes:g}=s.value;return!g||g.length===0||g.every(({visible:E})=>!E)});B(()=>e.currentNodeKey,g=>{n.value.setCurrentNodeKey(g)}),B(()=>e.defaultCheckedKeys,g=>{n.value.setDefaultCheckedKey(g)}),B(()=>e.defaultExpandedKeys,g=>{n.value.setDefaultExpandedKeys(g)}),B(()=>e.data,g=>{n.value.setData(g)},{deep:!0}),B(()=>e.checkStrictly,g=>{n.value.checkStrictly=g});const h=g=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");n.value.filter(g)},N=g=>Pe(e.nodeKey,g.data),c=g=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const E=n.value.getNode(g);if(!E)return[];const W=[E.data];let ee=E.parent;for(;ee&&ee!==s.value;)W.push(ee.data),ee=ee.parent;return W.reverse()},i=(g,E)=>n.value.getCheckedNodes(g,E),m=g=>n.value.getCheckedKeys(g),v=()=>{const g=n.value.getCurrentNode();return g?g.data:null},b=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const g=v();return g?g[e.nodeKey]:null},L=(g,E)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");n.value.setCheckedNodes(g,E)},P=(g,E)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");n.value.setCheckedKeys(g,E)},D=(g,E,W)=>{n.value.setChecked(g,E,W)},re=()=>n.value.getHalfCheckedNodes(),le=()=>n.value.getHalfCheckedKeys(),Y=(g,E=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");Se(n,t.emit,()=>n.value.setUserCurrentNode(g,E))},k=(g,E=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");Se(n,t.emit,()=>n.value.setCurrentNodeKey(g,E))},K=g=>n.value.getNode(g),T=g=>{n.value.remove(g)},me=(g,E)=>{n.value.append(g,E)},ct=(g,E)=>{n.value.insertBefore(g,E)},ht=(g,E)=>{n.value.insertAfter(g,E)},ft=(g,E,W)=>{f(E),t.emit("node-expand",g,E,W)},pt=(g,E)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");n.value.updateChildren(g,E)};return X("RootTree",{ctx:t,props:e,store:n,root:s,currentNode:d,instance:G()}),X(Be,void 0),{ns:a,store:n,root:s,currentNode:d,dragState:l,el$:r,dropIndicator$:p,isEmpty:u,filter:h,getNodeKey:N,getNodePath:c,getCheckedNodes:i,getCheckedKeys:m,getCurrentNode:v,getCurrentKey:b,setCheckedNodes:L,setCheckedKeys:P,setChecked:D,getHalfCheckedNodes:re,getHalfCheckedKeys:le,setCurrentNode:Y,setCurrentKey:k,t:o,getNode:K,remove:T,append:me,insertBefore:ct,insertAfter:ht,handleNodeExpand:ft,updateKeyChildren:pt}}});function Fn(e,t,o,a,n,s){const d=R("el-tree-node");return w(),I("div",{ref:"el$",class:x([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(w(!0),I(Ke,null,Je(e.root.childNodes,r=>(w(),F(d,{key:e.getNodeKey(r),node:r,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(w(),I("div",{key:0,class:x(e.ns.e("empty-block"))},[J(e.$slots,"empty",{},()=>{var r;return[se("span",{class:x(e.ns.e("empty-text"))},$e((r=e.emptyText)!=null?r:e.t("el.tree.emptyText")),3)]})],2)):V("v-if",!0),U(se("div",{ref:"dropIndicator$",class:x(e.ns.e("drop-indicator"))},null,2),[[Ce,e.dragState.showDropIndicator]])],2)}var ce=M(zn,[["render",Fn],["__file","tree.vue"]]);ce.install=e=>{e.component(ce.name,ce)};const Vn=ce,qn=Vn;export{qn as E};
